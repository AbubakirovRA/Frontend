<!-- 
Напишите программу, которая загружает данные с сервера с использованием объекта XMLHttpRequest
Создайте функцию loadData(url), которая принимает аргумент url (строка) - адрес сервера для загрузки данных.
Внутри функции loadData() создайте объект XMLHttpRequest с помощью new XMLHttpRequest().
Зарегистрируйте обработчик события onreadystatechange, который будет вызываться при изменении состояния запроса.
Проверьте, если успешно выполнен запрос и успешный статус ответа сервера, то выведите полученные данные в консоль с
помощью console.log(xhr.responseText).
Откройте запрос с помощью xhr.open("GET", url, true).
Отправьте запрос на сервер.
-->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // function loadData(url) {
        //     const xhr = new XMLHttpRequest();

        //     xhr.onreadystatechange = () => {
        //         if (xhr.readyState === XMLHttpRequest.DONE) {
        //             if (xhr.status === 200) {
        //                 console.log(xhr.responseText);
        //             } else {
        //                 console.error('Ошибка запроса:', xhr.status);
        //             }
        //         }
        //     };

        //     xhr.open('GET', url, true);
        //     xhr.send();
        // }

        // function loadData(url) {
        //     fetch(url)
        //         .then(answer => {
        //             if (answer.ok) {
        //                 return answer.text();
        //             } else {
        //                 console.error('Ошибка при выполнении запроса:', answer.status);
        //             }
        //         })
        //         .then(content => {
        //             console.log(content);
        //         })
        //         .catch(error => {
        //             console.error('Произошла ошибка:', error);
        //         });
        // }

        function getUsers(url) {
            fetch(url)
                .then(answer => {
                    if (answer.ok) {
                        return answer.json();
                    } else {
                        console.error('Ошибка при выполнении запроса:', answer.status);
                    }
                })
                .then(users => {
                    const sortedUsers = users.sort((a, b) => a.name.localeCompare(b.name));
                    console.log(sortedUsers);
                });
        }

        const url = 'https://jsonplaceholder.typicode.com/users';
        getUsers(url);
        // loadData(url);
    </script>
</body>

</html>